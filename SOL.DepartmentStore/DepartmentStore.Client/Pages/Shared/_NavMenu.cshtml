@inject IHttpContextAccessor HttpContextAccessor

@{
    var role = HttpContextAccessor.HttpContext?.Session.GetString("UserRole");
    var name = HttpContextAccessor.HttpContext?.Session.GetString("FullName");
}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">DSM</a>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav me-auto">
            @if (!string.IsNullOrEmpty(role))
            {
                <li class="nav-item"><a class="nav-link" href="/Dashboard">Dashboard</a></li>

                @if (role == "Admin" || role == "Manager")
                {
                    <li class="nav-item"><a class="nav-link" href="/Products">Products</a></li>
                }

                @if (role == "SalesEmployee")
                {
                    <li class="nav-item"><a class="nav-link" href="/Orders">Orders</a></li>
                }
            }
        </ul>

        <ul class="navbar-nav">
            @if (string.IsNullOrEmpty(role))
            {
                <li class="nav-item"><a class="nav-link" href="/Account/Login">Login</a></li>
            }
            else
            {
                <li class="nav-item"><span class="nav-link">Hi, @name (@role)</span></li>
                <li class="nav-item"><a class="nav-link" href="/Account/Logout">Logout</a></li>
            }
        </ul>
    </div>
</nav>
